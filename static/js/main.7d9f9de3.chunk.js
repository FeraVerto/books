(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{24:function(e,t,n){e.exports={App:"App_App__16ZpL","App-logo":"App_App-logo__25k4o","App-logo-spin":"App_App-logo-spin__1e7sv",App_header:"App_App_header__1WhCC"}},37:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(29),i=n.n(c),r=(n(37),n(13)),l=n(32),b=n(14),s=n(2),u=n(24),j=n.n(u),d=n(9),h=n(1),p=function(e){var t=e.state,n=e.dispatch;Object(a.useEffect)((function(){for(var e=[],t=0,a=Object.keys(localStorage);t<a.length;t++){var o=a[t],c=localStorage.getItem(o);null!==c&&e.push({id:o,book:JSON.parse(c)})}n({type:"SET_BOOKS_LIST",payload:e})}),[]);return Object(h.jsx)("ul",{children:t.books.map((function(e){return Object(h.jsx)(d.b,{to:"/edit/".concat(e.id),children:Object(h.jsxs)("li",{onDoubleClick:function(){return t=e.id,void n({type:"GET_BOOK",payload:t});var t},children:[Object(h.jsx)("span",{children:e.book.bookTitle}),Object(h.jsx)("span",{children:e.book.author})]})},e.id)}))})},O=n(21),x=n(45),f=function(){var e=Object(O.a)({initialValues:{bookTitle:"",author:""},onSubmit:function(e){var t=Object(x.a)();localStorage.setItem(t,JSON.stringify(e))}});return Object(h.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(h.jsx)("label",{htmlFor:"bookTitle",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438"}),Object(h.jsx)("input",{id:"bookTitle",name:"bookTitle",type:"text",onChange:e.handleChange,value:e.values.bookTitle}),Object(h.jsx)("label",{htmlFor:"author",children:"\u0410\u0432\u0442\u043e\u0440 \u043a\u043d\u0438\u0433\u0438"}),Object(h.jsx)("input",{id:"author",name:"author",type:"text",onChange:e.handleChange,value:e.values.author}),Object(h.jsx)("button",{type:"submit",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})},m=function(e){var t=e.state,n=e.dispatch,o=Object(s.e)().id,c=Object(a.useState)(!1),i=Object(r.a)(c,2),l=i[0],b=(i[1],Object(a.useState)("")),u=Object(r.a)(b,2),j=u[0],d=u[1],p=Object(a.useState)(""),x=Object(r.a)(p,2),f=x[0],m=x[1],g=Object(O.a)({initialValues:{bookTitle:"",author:""},onSubmit:function(e){d(JSON.stringify(e))}});return Object(a.useEffect)((function(){j&&localStorage.setItem(o,j),f&&localStorage.removeItem(f)})),Object(h.jsx)("div",{children:!l&&Object(h.jsx)("div",{children:t.books.map((function(e){return e.id===o&&Object(h.jsxs)("form",{onSubmit:g.handleSubmit,children:[Object(h.jsx)("label",{htmlFor:"title",children:e.book.bookTitle}),Object(h.jsx)("input",{id:"title",name:"bookTitle",type:"text",onChange:g.handleChange,value:g.values.bookTitle}),Object(h.jsx)("label",{htmlFor:"author",children:e.book.author}),Object(h.jsx)("input",{id:"author",name:"author",type:"text",onChange:g.handleChange,value:g.values.author}),Object(h.jsx)("button",{type:"submit",onClick:function(){return function(e){m(e),n({type:"DELETE_BOOK",payload:e})}(e.id)},children:"Delete"}),Object(h.jsx)("button",{type:"submit",children:"Save"})]},e.id)}))})})},g=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(d.b,{to:"/",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043d\u0438\u0433"}),Object(h.jsx)(d.b,{to:"/create",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043d\u0438\u0433\u0443"})]})},v={books:[]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOKS_LIST":return Object(b.a)(Object(b.a)({},e),{},{books:Object(l.a)(t.payload)});case"DELETE_BOOK":return Object(b.a)(Object(b.a)({},e),{},{books:e.books.filter((function(e){return e.id!==t.payload}))});case"UPDATE_BOOK":return Object(b.a)({},e);default:return e}},S=function(){var e=Object(a.useReducer)(k,v),t=Object(r.a)(e,2),n=t[0],o=t[1];return Object(h.jsxs)("div",{className:j.a.App,children:[Object(h.jsx)("header",{className:j.a.App_header,children:Object(h.jsx)(g,{})}),Object(h.jsxs)("main",{children:[Object(h.jsx)(s.a,{exact:!0,path:"/",render:function(){return Object(h.jsx)(p,{state:n,dispatch:o})}}),Object(h.jsx)(s.a,{path:"/create",render:function(){return Object(h.jsx)(f,{})}}),Object(h.jsx)(s.a,{path:"/edit/:id",render:function(){return Object(h.jsx)(m,{state:n,dispatch:o})}})]})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),o(e),c(e),i(e)}))};i.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(d.a,{children:Object(h.jsx)(S,{})})}),document.getElementById("root")),_()}},[[43,1,2]]]);
//# sourceMappingURL=main.7d9f9de3.chunk.js.map