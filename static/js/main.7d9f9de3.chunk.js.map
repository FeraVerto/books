{"version":3,"sources":["App.module.css","ui/BookList/BookList.tsx","ui/CreateBook/CreateBook.tsx","ui/EditBook/EditBook.tsx","ui/Navigation/Navigation.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","BookList","state","dispatch","useEffect","resultArray","Object","keys","localStorage","key","book","getItem","push","id","JSON","parse","type","payload","books","map","to","onDoubleClick","bookTitle","author","CreateBook","formik","useFormik","initialValues","onSubmit","values","uuidv4","setItem","stringify","handleSubmit","htmlFor","name","onChange","handleChange","value","EditBook","useParams","useState","editMode","localStateUpdate","setLocalStateUpdate","localStateDelete","setLocalStateDelete","removeItem","onClick","deleteBook","Navigation","initialState","reducer","action","filter","s","App","useReducer","className","App_header","exact","path","render","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7d9f9de3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"App-logo\":\"App_App-logo__25k4o\",\"App-logo-spin\":\"App_App-logo-spin__1e7sv\",\"App_header\":\"App_App_header__1WhCC\"};","import React, {useEffect} from 'react'\nimport {NavLink} from 'react-router-dom';\nimport {StateType} from \"../../App\";\n\nexport type BookType = {\n    bookTitle: string,\n    author: string\n}\n\nexport type BookRecord = {\n    id: string,\n    book: BookType\n}\n\nexport type BooksListType = {\n    state: StateType\n    dispatch: any\n}\n\nexport const BookList = ({state, dispatch}: BooksListType) => {\n\n\n    useEffect(() => {\n        const resultArray: Array<BookRecord> = []\n        const keys: Array<string> = Object.keys(localStorage);\n        for (const key of keys) {\n            const book = localStorage.getItem(key)\n            if (book !== null) resultArray.push({id: key, book: JSON.parse(book)})\n        }\n\n        dispatch({type: 'SET_BOOKS_LIST', payload: resultArray})\n\n    }, [])\n\n    const onDoubleClickTheBook = (id: string) => {\n        dispatch({type: 'GET_BOOK', payload: id})\n    }\n\n    return (\n        <ul>\n\n            {\n                state.books.map((book: BookRecord) => {\n                    return (\n                        <NavLink key={book.id} to={`/edit/${book.id}`}>\n                            <li onDoubleClick={() => onDoubleClickTheBook(book.id)}>\n                                <span>{book.book.bookTitle}</span>\n                                <span>{book.book.author}</span>\n                            </li>\n                        </NavLink>\n                    )\n                })\n            }\n\n        </ul>\n    )\n}","import React from 'react'\nimport {useFormik} from \"formik\";\nimport { v4 as uuidv4 } from 'uuid';\n\nexport const CreateBook = () => {\n\n    const formik = useFormik({\n        initialValues: {\n            bookTitle: '',\n            author: ''\n        },\n        onSubmit: values => {\n            const id = uuidv4();\n            localStorage.setItem(id, JSON.stringify(values))\n        },\n    })\n\n    return (\n        <form onSubmit={formik.handleSubmit}>\n            <label htmlFor=\"bookTitle\">Название книги</label>\n            <input id=\"bookTitle\"\n                   name=\"bookTitle\"\n                   type=\"text\"\n                   onChange={formik.handleChange}\n                   value={formik.values.bookTitle}/>\n\n            <label htmlFor=\"author\">Автор книги</label>\n            <input id=\"author\"\n                   name=\"author\"\n                   type=\"text\"\n                   onChange={formik.handleChange}\n                   value={formik.values.author}/>\n\n            <button type=\"submit\">Создать</button>\n        </form>\n    )\n}","import React, {Dispatch, useEffect, useState} from 'react';\nimport {StateType} from \"../../App\";\nimport {useParams} from \"react-router-dom\";\nimport {useFormik} from \"formik\";\n\nexport type EditBookType = {\n    state: StateType\n    dispatch: Dispatch<any>\n}\n\n\nexport const EditBook = ({state, dispatch}: EditBookType) => {\n    const {id} = useParams<{ id: string }>()\n\n    const [editMode, setEditMode] = useState<boolean>(false)\n    const [localStateUpdate, setLocalStateUpdate] = useState<string | null>(\"\")\n    const [localStateDelete, setLocalStateDelete] = useState<string>(\"\")\n\n    const deleteBook = (id: string) => {\n        setLocalStateDelete(id)\n        dispatch({type: 'DELETE_BOOK', payload: id})\n    }\n\n    const formik = useFormik({\n        initialValues: {\n            bookTitle: '',\n            author: ''\n        },\n        onSubmit: values => {\n            setLocalStateUpdate(JSON.stringify(values))\n        }\n    })\n\n    useEffect(() => {\n        localStateUpdate && localStorage.setItem(id, localStateUpdate)\n        localStateDelete && localStorage.removeItem(localStateDelete)\n    })\n\n    return (\n        <div>\n            {\n                !editMode && <div>\n                    {\n                        state.books.map(book => {\n                            return book.id === id &&\n                                (\n                                    <form onSubmit={formik.handleSubmit} key={book.id}>\n                                        <label htmlFor=\"title\">{book.book.bookTitle}</label>\n                                        <input id=\"title\"\n                                               name=\"bookTitle\"\n                                               type=\"text\"\n                                               onChange={formik.handleChange}\n                                               value={formik.values.bookTitle}/>\n\n                                        <label htmlFor=\"author\">{book.book.author}</label>\n                                        <input id=\"author\"\n                                               name=\"author\"\n                                               type=\"text\"\n                                               onChange={formik.handleChange}\n                                               value={formik.values.author}/>\n\n                                        <button type=\"submit\" onClick={() => deleteBook(book.id)}>Delete</button>\n                                        <button type=\"submit\">Save</button>\n                                    </form>\n                                )\n                        })\n                    }\n                </div>\n            }\n\n        </div>\n    )\n}","import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nexport const Navigation = () => {\n    return (\n        <div>\n            <NavLink to=\"/\">Список книг</NavLink>\n            <NavLink to=\"/create\">Создать книгу</NavLink>\n        </div>\n    )\n}","import React, {useReducer} from 'react';\nimport {Route} from 'react-router-dom';\nimport s from './App.module.css';\nimport {BookList, BookRecord} from \"./ui/BookList/BookList\";\nimport {CreateBook} from \"./ui/CreateBook/CreateBook\";\nimport {EditBook} from \"./ui/EditBook/EditBook\";\nimport {Navigation} from \"./ui/Navigation/Navigation\";\n\ntype ActionType = {\n    type: string,\n    payload: any\n}\n\nconst initialState = {\n    books: []\n}\n\nexport type StateType = {\n    books: Array<BookRecord>\n}\n\nconst reducer = (state: StateType = initialState, action: ActionType): StateType => {\n    switch (action.type) {\n        case 'SET_BOOKS_LIST':\n            return {\n                ...state, books: [...action.payload]\n            }\n\n        case 'DELETE_BOOK':\n            return {\n                ...state,\n                books: state.books.filter(s => s.id !== action.payload)\n            }\n\n        case 'UPDATE_BOOK':\n            return {\n                ...state\n            }\n\n        default:\n            return state\n    }\n}\n\n\nexport const App = () => {\n\n    const [state, dispatch] = useReducer<React.Reducer<StateType, ActionType>>(reducer, initialState);\n\n    return (\n        <div className={s.App}>\n            <header className={s.App_header}>\n                <Navigation/>\n            </header>\n            <main>\n                <Route exact path=\"/\" render={() => <BookList state={state}\n                                                              dispatch={dispatch}/>}/>\n                <Route path=\"/create\" render={() => <CreateBook/>}/>\n\n                <Route path=\"/edit/:id\" render={() => <EditBook state={state}\n                                                                dispatch={dispatch}/>}/>\n            </main>\n        </div>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from 'react-router-dom';\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <App/>\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}